[build]
  command = "npm run build"
  publish = "dist"
  
[build.environment]
  NODE_VERSION = "18"

[[redirects]]
  from = "/cart/*"
  to = "/cart/index.html"
  status = 200

[[redirects]]
  from = "/checkout/*" 
  to = "/checkout/index.html"
  status = 200

[[redirects]]
  from = "/product_pages/*"
  to = "/product_pages/index.html"
  status = 200
  
[[redirects]]
  from = "/product_listing/*"
  to = "/product_listing/index.html" 
  status = 200

# Fallback for any other routes
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200